<div class="ui-grid">
  <div class="ui-grid-col-12" style="padding-left: 80px;">
    <h3>My Roommates</h3>
  </div>
</div>
<div class="ui-grid">
  <div class="ui-grid-col-12" style="padding-left: 80px;">
    <p-toast [style]="{ marginTop: '80px' }"></p-toast>
    <p-panel header="Roommates" [style]="{ width: '70%' }">
      <div style="text-align:right; padding-bottom: 10px;">
        <button type="button"
          pButton
          icon="pi pi-plus"
          label="&nbsp;Add New"
          pAddRow [table]="dt" [newRow]="newRow()"
          style="color: black; background-color: yellowgreen;"></button>
      </div>
      <p-table #dt [value]="roomMates2" dataKey="id" editMode="row">
        <ng-template pTemplate="header">
          <tr>
            <th>Name</th>
            <th>Gender</th>
            <th>Phone</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
          <tr [pEditableRow]="rowData">
            <td>
              <p-cellEditor>
                  <ng-template pTemplate="input">
                      <input pInputText type="text" [(ngModel)]="rowData.name" required>
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ rowData.name }}
                  </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <p-cellEditor>
                  <ng-template pTemplate="input">
                      <p-dropdown [options]="genders" [(ngModel)]="rowData.gender" [style]="{'width':'100%'}"></p-dropdown>
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ rowData.gender }}
                  </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <p-cellEditor>
                <ng-template pTemplate="input">
                    <input pInputText type="text" [(ngModel)]="rowData.phone" required>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ rowData.phone }}
                </ng-template>
              </p-cellEditor>
            </td>
            <td style="text-align:center">
              <button *ngIf="editing" pButton type="button" pSaveEditableRow icon="pi pi-check" class="ui-button-success" style="margin-right: .5em" (click)="onRowEditSave(rowData)"></button>
              <button *ngIf="editing" pButton type="button" pCancelEditableRow icon="pi pi-times" class="ui-button-danger" style="margin-right: .5em" (click)="onRowEditCancel(rowData, ri)"></button>
              <button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil" class="ui-button-info" style="margin-right: .5em" (click)="onRowEditInit(rowData)"></button>
              <button *ngIf="!editing" pButton type="button" pCancelEditableRow icon="pi pi-times" class="ui-button-danger" style="margin-right: .5em" (click)="onRowEditDelete(rowData, ri)"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-panel>
  </div>
  <div class="ui-grid-col-4" style="padding-left: 80px; padding-top: 10px;">
    <button type="button"
      pButton
      icon="pi"
      label="Save Details"
      [disabled]="!submitted"
      (click)="saveRoommates()"
      style="color: black; background-color: yellowgreen;"></button>
  </div>
</div>
